---
import BaseLayout from '../../layouts/BaseLayout.astro';
import BlogPost from '../../components/BlogPost.astro';
interface MarkdownFrontmatter {
  date: number;
  image: string;
  author: any;
  slug: string;
  title: string;
}

const { post } = Astro.props;
const { description, title } = post;
const canonicalURL = new URL(Astro.url.pathname, Astro.site);

export async function getStaticPaths() {
  const allPosts = await Astro.glob<MarkdownFrontmatter>('../post/*.md');
  return allPosts.map((post) => ({
    params: {
      slug: post.frontmatter.slug
    },
    props: { post }
  }));
}
---

<BaseLayout description={description} title={title}>
  <BlogPost canonicalURL={canonicalURL} post={post} />
</BaseLayout>
